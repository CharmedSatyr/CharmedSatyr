function rangeOfColors(b){var a="";switch(true){case (b<0):a="rgba(1, 1, 255, 1.0)";break;case ((b>=0)&&(b<4.44)):a="rgba(1, 146, 255, 1.0)";break;case ((b>=4.44)&&(b<10)):a="rgba(76, 192, 220, 1.0)";break;case ((b>=10)&&(b<15.56)):a="rgba(1, 255, 154, 1.0)";break;case ((b>=15.56)&&(b<21.11)):a="rgba(156, 255, 41, 1.0)";break;case ((b>=21.11)&&(b<26.67)):a="rgba(255, 248, 3, 1.0)";break;case ((b>=26.67)&&(b<32.22)):a="rgba(255, 163, 3, 1.0)";break;case ((b>=32.22)&&(b<37.78)):a="rgba(255, 87, 3, 1.0)";break;case (b>=37.78):a="rgba(255, 0, 0, 1.0)";break;default:a="pink";break}return a}var icons={clear_day:"\u2600️",clear_night:"\uD83C\uDF19",rain:"\u2614️",snow:"\uD83C\uDF28",sleet:"\uD83C\uDF27",wind:"\uD83C\uDF2C",fog:"\uD83C\uDF2B",cloudy:"\u2601️",partly_cloudy_day:"\uD83C\uDF25",partly_cloudy_night:"\uD83C\uDF19\u2601️"};if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(h){var e=(h.coords.latitude).toFixed(3);var g=(h.coords.longitude).toFixed(3);var c="011ffb7f7744c9434fcbcdc0c9a0b65f";var a="?units=si";var b="https://api.darksky.net/forecast/"+c+"/"+e+","+g+a;var d="AIzaSyAMejMCinUM1S2dzyVCpJf9q-Ns-e1YSnw";var f="https://maps.googleapis.com/maps/api/geocode/json?latlng="+e+","+g+"&key"+d;$.getJSON(f,function(i){$("#location").html(i.results[0].address_components[2].long_name+", "+i.results[0].address_components[4].long_name+", "+i.results[0].address_components[5].long_name)});return $.ajax({url:b,dataType:"jsonp",success:function(l){console.log("Success! Displaying weather data.");$("#icon").html(icons[""+l.currently.icon.replace(/-/g,"_")]).attr("title",l.currently.summary);var j=Math.round(l.currently.temperature);$("#tempC").html(j+"&deg;");$("#buttonM").html("C");$("#tempF").html(Math.round(j*1.8+32)+"&deg");$("#buttonI").html("F");$("body").css("background-color",rangeOfColors(j));$("#currentDescription").html(l.currently.summary);$("#dailySummary").html(l.daily.summary);$("#windSpeedM").html((l.currently.windSpeed).toFixed(1)+" m/s, ");$("#windSpeedI").html((l.currently.windSpeed*2.23694).toFixed(1)+" mph, ");var i=Math.round(l.currently.windBearing);function k(m){switch(true){case (((m>348.75)&&(m<=360))||((m>=0)&&(m<=11.25))):answer=m+"&deg N";break;case ((m>11.25)&&(m<=33.75)):answer=m+"&deg NNE";break;case ((m>33.75)&&(m<=56.25)):answer=m+"&deg NE";break;case ((m>56.25)&&(m<=78.75)):answer=m+"&deg ENE";break;case ((m>78.75)&&(m<=101.25)):answer=m+"&deg E";break;case ((m>101.25)&&(m<=123.75)):answer=m+"&deg ESE";break;case ((m>123.75)&&(m<=146.25)):answer=m+"&deg SE";break;case ((m>146.25)&&(m<=168.75)):answer=m+"&deg SSE";break;case ((m>168.75)&&(m<=191.25)):answer=m+"&deg S";break;case ((191.25>m)&&(m<=213.75)):answer=m+"&deg SSW";break;case ((213.75>m)&&(m<=236.25)):answer=m+"&deg SW";break;case ((m>236.25)&&(m<=258.75)):answer=m+"&deg WSW";break;case ((m>258.75)&&(m<=281.25)):answer=m+"&deg W";break;case ((m>281.25)&&(m<=303.75)):answer=m+"&deg WNW";break;case ((m>303.75)&&(m<=326.25)):answer=m+"&deg NW";break;case ((m>326.25)&&(m<=348.75)):answer=m+"&deg NNW";break;default:answer="";break}return answer}$("#windDeg").html(k(i));$("#pressureM").html(l.currently.pressure+" hPa");$("#pressureI").html((l.currently.pressure*0.03).toFixed(1)+" in");$("#humidity").html(l.currently.humidity*100+"%");if(l.currently.visibility!==undefined){$("#visibilityM").html((l.currently.visibility).toFixed(1)+" km");$("#visibilityI").html((l.currently.visibility*0.621).toFixed(1)+" mi")}else{$("#visibilityM, #visibilityI").html("Unavailable")}if(l.currently.cloudCover!==undefined){$("#clouds").html(l.currently.cloudCover+"%")}else{$("#clouds").html("Unavailable")}},error:function(){console.log("Unable to display weather.")}})})}else{console.log("Geolocation data unavailable.")}$("#buttonM, #buttonI").click(function(){$("#tempC, #tempF").toggleClass("goAway");$("#windSpeedM, #windSpeedI").toggleClass("goAway");$("#visibilityM, #visibilityI").toggleClass("goAway");$("#pressureM, #pressureI").toggleClass("goAway");$("#buttonM, #buttonI").toggleClass("goAway");$("#dailySummary").toggleClass("goAway")});