$(document).ready(function(){$("#power").click(function(){$("#powerSlider").toggleClass("powerSliderOn");if($("#powerSlider").hasClass("powerSliderOn")){$("#display").text("--").fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500)}else{$("#display").text("");$("#strictLight").removeClass("strictOn");$("#start").removeClass("start-disabled");location.reload(false)}var w,t,o,q,m,s,v,r,g,n,j,l,a,p;$("#strict").click(function(){$("#strictLight").toggleClass("strictOn")});t=new Audio("https://www.charmedsatyr.com/xy/resources/0011/simonSound1.mp3");o=new Audio("https://www.charmedsatyr.com/xy/resources/0011/simonSound2.mp3");q=new Audio("https://www.charmedsatyr.com/xy/resources/0011/simonSound3.mp3");m=new Audio("https://www.charmedsatyr.com/xy/resources/0011/simonSound4.mp3");s=new Audio("https://www.charmedsatyr.com/xy/resources/0011/Buzzer.mp3");function d(){$(l).addClass(g);w.play();setTimeout(function(){$(l).removeClass(g)},300)}function e(){w=t;l="#tl";g="pressedTL";d()}$("#tl").click(function(){if($("#powerSlider").hasClass("powerSliderOn")){e()}});function c(){w=o;l="#tr";g="pressedTR";d()}$("#tr").click(function(){if($("#powerSlider").hasClass("powerSliderOn")){c()}});function b(){w=q;l="#bl";g="pressedBL";d()}$("#bl").click(function(){if($("#powerSlider").hasClass("powerSliderOn")){b()}});function u(){w=m;l="#br";g="pressedBR";d()}$("#br").click(function(){if($("#powerSlider").hasClass("powerSliderOn")){u()}});function f(){if($("#powerSlider").hasClass("powerSliderOn")){$("#start").addClass("start-disabled");v=[];a=[];j=h(0,3);v.push(j);i(j);n=0;r=0;r++;$("#display").text(r)}}function h(y,x){return(Math.floor(Math.random()*(x-y+1))+y)}function i(x){switch(x){case 0:e();break;case 1:c();break;case 2:b();break;case 3:u();break}}function k(x,y,z){setTimeout(function(){i(x[y]);y++;if(y<x.length){k(x,y,z)}},z)}$("#start").click(function(){if($("#powerSlider").hasClass("powerSliderOn")){setTimeout(f,1000)}function y(){if(n>19&&$("#powerSlider").hasClass("powerSliderOn")){setTimeout(function(){r="WIN";$("#display").text(r).fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500);p=[2,3,1,0,1,0,2,3,1,3,2,3,2,3,1,0,1,0,2,3,1,3,2];k(p,0,300);setTimeout(function(){$("#display").text(r).fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500);f()},11000)},1000)}else{if(a.length!==0&&a.length===v.length&&$("#powerSlider").hasClass("powerSliderOn")){setTimeout(function(){a=[];n=0;j=h(0,3);v.push(j);r++;setTimeout(function(){$("#display").text(r)},800);k(v,0,800-(15*r))},1000)}}}function x(){if($("#powerSlider").hasClass("powerSliderOn")){s.play();n=0;a=[];setTimeout(function(){if($("#strictLight").hasClass("strictOn")){$("#display").text("--").fadeToggle(500).fadeToggle(500).fadeToggle(500).fadeToggle(500);setTimeout(f,3000)}else{k(v,0,800-(15*r))}},1000)}}$("#tl").click(function(){if($("#powerSlider").hasClass("powerSliderOn")){a.push(0);n++;if(0===v[n-1]){y()}else{x()}}});$("#tr").click(function(){if($("#powerSlider").hasClass("powerSliderOn")){a.push(1);n++;if(1===v[n-1]){y()}else{x()}}});$("#bl").click(function(){if($("#powerSlider").hasClass("powerSliderOn")){a.push(2);n++;if(2===v[n-1]){y()}else{x()}}});$("#br").click(function(){if($("#powerSlider").hasClass("powerSliderOn")){a.push(3);n++;if(3===v[n-1]){y()}else{x()}}})})})});