$("#rando").click(function(){var a="https://en.wikipedia.org/w/api.php?action=query&list=random&rnlimit=20&rnnamespace=0&format=json";$.ajax({url:a,type:"GET",dataType:"jsonp",headers:{"Access-Control-Allow-Origin":"*"},crossDomain:true,success:function(d){console.log("Success!");var e="<div>Selections from Wikipedia:</div><br>";var c=d.query.random;for(var b in c){e+="<div row class='well'>";e+="<a href='https://en.wikipedia.org/?curid="+c[b].id+"'  target='_blank'>"+c[b].title+"</a></div>"}$("#Results").html(e)},error:function(){console.log("Sorry, there was a problem connecting!")},complete:function(){console.log("The request is complete!")}})});$("#bar").on("keyup keypress",function(f){var d=(f.keyCode||f.which);if(d===13){f.preventDefault();return false}var c=$("input[name=Search]").val();var a=encodeURI(c);var b="https://en.wikipedia.org/w/api.php?action=query&format=json&prop=extracts&generator=search&redirects=1&exsentences=2&exlimit=15&exintro=1&explaintext=1s&gsrnamespace=0&gsrlimit=15&gsrsearch="+a;$.ajax({url:b,type:"GET",dataType:"jsonp",headers:{"Access-Control-Allow-Origin":"*"},crossDomain:true,success:function(h){console.log("Success!");var i='<div>Results for "'+c+'":</div><br>';var g=h.query.pages;for(var e in g){i+="<div class='row well'>";i+="<a href='https://en.wikipedia.org/?curid="+g[e].pageid+"'  target='_blank'>"+g[e].title+"</a>";i+="<p>"+g[e].extract+"</p></div>";$("#Results").html(i)}},error:function(){console.log("Sorry, there was a problem connecting!")},complete:function(){console.log("The request is complete!")}})});